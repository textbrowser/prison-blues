PRAGMA database_list;
SELECT name FROM "main".sqlite_schema  WHERE type IN ('table','view')   AND name NOT LIKE 'sqlite_%'   AND name LIKE ?1 ORDER BY 1;
PRAGMA database_list;
SELECT name FROM "main".sqlite_schema  WHERE type IN ('table','view')   AND name NOT LIKE 'sqlite_%'   AND name LIKE ?1 ORDER BY 1;
SELECT DISTINCT candidate COLLATE nocase  FROM completion('sele') ORDER BY 1;
-- PRAGMA database_list;
-- PRAGMA database_list;
-- SELECT name FROM "main".sqlite_schema;
-- PRAGMA database_list;
-- SELECT pti.name FROM "main".sqlite_schema AS sm JOIN pragma_table_info(sm.name,'main') AS pti WHERE sm.type='table';
-- PRAGMA 'main'.table_info='friends_public_keys';
-- PRAGMA 'main'.table_info='relationships_with_signatures';
-- PRAGMA 'main'.table_info='gpg';
SELECT * from gpg;
SELECT DISTINCT candidate COLLATE nocase  FROM completion('.sc') ORDER BY 1;
-- PRAGMA database_list;
-- PRAGMA database_list;
-- SELECT name FROM "main".sqlite_schema;
-- PRAGMA database_list;
-- SELECT pti.name FROM "main".sqlite_schema AS sm JOIN pragma_table_info(sm.name,'main') AS pti WHERE sm.type='table';
-- PRAGMA 'main'.table_info='friends_public_keys';
-- PRAGMA 'main'.table_info='relationships_with_signatures';
-- PRAGMA 'main'.table_info='gpg';
SELECT DISTINCT candidate COLLATE nocase  FROM completion('.sch') ORDER BY 1;
-- PRAGMA database_list;
-- PRAGMA database_list;
-- SELECT name FROM "main".sqlite_schema;
-- PRAGMA database_list;
-- SELECT pti.name FROM "main".sqlite_schema AS sm JOIN pragma_table_info(sm.name,'main') AS pti WHERE sm.type='table';
-- PRAGMA 'main'.table_info='friends_public_keys';
-- PRAGMA 'main'.table_info='relationships_with_signatures';
-- PRAGMA 'main'.table_info='gpg';
SELECT name FROM pragma_database_list;
-- PRAGMA database_list;
SELECT sql FROM(SELECT shell_add_schema(sql,NULL,name) AS sql, type, tbl_name, name, rowid,1 AS snum, 'main' AS sname FROM main.sqlite_schema UNION ALL SELECT shell_module_schema(name), 'table', name, name, name, 9e+99, 'main' FROM pragma_module_list) WHERE lower(tbl_name) LIKE 'gpg' ESCAPE '\'  AND sql IS NOT NULL ORDER BY snum, rowid;
-- PRAGMA module_list;
-- PRAGMA "main".table_info='pragma_module_list';
-- PRAGMA "main".table_info='pragma_table_info';
-- PRAGMA "main".table_info='pragma_database_list';
-- PRAGMA "main".table_info='zipfile';
-- PRAGMA "main".table_info='completion';
-- PRAGMA "main".table_info='fsdir';
-- PRAGMA "main".table_info='sqlite_stmt';
-- PRAGMA "main".table_info='json_tree';
-- PRAGMA "main".table_info='json_each';
-- PRAGMA "main".table_info='fts3';
-- PRAGMA "main".table_info='fts4';
-- PRAGMA "main".table_info='fts3tokenize';
-- PRAGMA "main".table_info='generate_series';
-- PRAGMA "main".table_info='fts5vocab';
-- PRAGMA "main".table_info='rtree_i32';
-- PRAGMA "main".table_info='fts5';
-- PRAGMA "main".table_info='rtree';
-- PRAGMA "main".table_info='dbstat';
select count(*) from gpg;
SELECT DISTINCT candidate COLLATE nocase  FROM completion('') ORDER BY 1;
-- PRAGMA database_list;
-- PRAGMA database_list;
-- SELECT name FROM "main".sqlite_schema;
-- PRAGMA database_list;
-- SELECT pti.name FROM "main".sqlite_schema AS sm JOIN pragma_table_info(sm.name,'main') AS pti WHERE sm.type='table';
-- PRAGMA 'main'.table_info='friends_public_keys';
-- PRAGMA 'main'.table_info='relationships_with_signatures';
-- PRAGMA 'main'.table_info='gpg';
SELECT DISTINCT candidate COLLATE nocase  FROM completion('') ORDER BY 1;
-- PRAGMA database_list;
-- PRAGMA database_list;
-- SELECT name FROM "main".sqlite_schema;
-- PRAGMA database_list;
-- SELECT pti.name FROM "main".sqlite_schema AS sm JOIN pragma_table_info(sm.name,'main') AS pti WHERE sm.type='table';
-- PRAGMA 'main'.table_info='friends_public_keys';
-- PRAGMA 'main'.table_info='relationships_with_signatures';
-- PRAGMA 'main'.table_info='gpg';
SELECT 1 FROM sqlite_schema o WHERE sql LIKE 'CREATE VIRTUAL TABLE%' AND true;
SAVEPOINT dump;
PRAGMA writable_schema=ON;
SELECT name, type, sql FROM sqlite_schema AS o WHERE (true) AND type=='table'  AND sql NOT NULL ORDER BY tbl_name='sqlite_sequence', rowid;
PRAGMA table_info='friends_public_keys';
SELECT gemini,key_type,key_type_hash,name,public_key,public_key_hash,neighbor_oid,status,last_status_update,gemini_hash_key,name_changed_by_user,forward_secrecy_authentication_algorithm,forward_secrecy_authentication_key,forward_secrecy_encryption_algorithm,forward_secrecy_encryption_key FROM friends_public_keys;
PRAGMA table_info='relationships_with_signatures';
SELECT public_key_hash,signature_public_key_hash FROM relationships_with_signatures;
PRAGMA table_info='gpg';
SELECT email,public_keys,public_keys_hash FROM gpg;
SELECT sql FROM sqlite_schema AS o WHERE (true) AND sql NOT NULL  AND type IN ('index','trigger','view');
PRAGMA writable_schema=OFF;
RELEASE dump;
SELECT name FROM pragma_database_list;
-- PRAGMA database_list;
SELECT sql FROM(SELECT shell_add_schema(sql,NULL,name) AS sql, type, tbl_name, name, rowid,1 AS snum, 'main' AS sname FROM main.sqlite_schema) WHERE sql IS NOT NULL ORDER BY snum, rowid;
